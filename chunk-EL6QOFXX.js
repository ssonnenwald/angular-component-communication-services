import{$ as C,$a as $,Aa as d,Da as R,G as j,Ia as F,J as f,Ma as U,Na as q,Oa as V,P as i,Pa as W,Qa as r,Ra as o,Sa as N,Ta as w,Ua as g,V as E,Va as v,X as h,Y as b,ab as u,bb as O,cb as L,e as P,ga as a,jb as M,l as T,sa as I,ta as l,ub as z,v as p}from"./chunk-7HWU2DN7.js";function k(n){n||(E(k),n=i(C));let t=new P(e=>n.onDestroy(e.next.bind(e)));return e=>e.pipe(j(t))}var y=class n{http=i(z);apiUrl="api/contacts";constructor(){}getContacts(){return this.http.get(this.apiUrl).pipe(p(this.handleError("getContacts",[])))}getContact(t){let e=`${this.apiUrl}/${t}`;return this.http.get(e).pipe(p(this.handleError(`getContact id=${t}`)))}addContact(t){return this.http.post(this.apiUrl,t).pipe(p(this.handleError("addContact")))}updateContact(t){return this.http.put(this.apiUrl,t).pipe(p(this.handleError("updateContact")))}deleteContact(t){let e=`${this.apiUrl}/${t}`;return this.http.delete(e).pipe(p(this.handleError("deleteContact")))}handleError(t="operation",e){return c=>(console.error(c),T(e))}static \u0275fac=function(e){return new(e||n)};static \u0275prov=f({token:n,factory:n.\u0275fac,providedIn:"root"})};var s=class n{destroyRef=i(C);contactDataService=i(y);searchTerm=a("");contacts=a([]);filteredContacts=M(()=>this.searchTerm()?this.contacts().filter(t=>t.name.toLowerCase().includes(this.searchTerm().toLocaleLowerCase())):this.contacts());updateSearchTerm(t){this.searchTerm.set(t)}loadContacts(){this.contactDataService.getContacts().pipe(k(this.destroyRef)).subscribe(t=>{this.contacts.set(t)})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=f({token:n,factory:n.\u0275fac})};function B(n,t){if(n&1){let e=w();r(0,"button",4),g("click",function(){h(e);let m=v();return b(m.search.set(!0))}),r(1,"span",5),u(2,"search"),o()()}}function G(n,t){if(n&1){let e=w();r(0,"div",3)(1,"div",6)(2,"input",7,0),g("input",function(){h(e);let m=$(3),A=v();return b(A.searchService.updateSearchTerm(m.value))}),o(),r(4,"button",8),g("click",function(){h(e);let m=v();return b(m.search.set(!1))}),r(5,"span",9),u(6,"close"),o()()()()}}var S=class n{search=a(!1);searchService=i(s);static \u0275fac=function(e){return new(e||n)};static \u0275cmp=d({type:n,selectors:[["app-contacts-search"]],decls:3,vars:1,consts:[["searchField",""],[1,"d-flex","flex-row","w-100"],[1,"search"],[1,"search-filter"],[1,"search",3,"click"],[1,"search-icon","material-symbols-outlined"],[1,"input-container"],["autoFocus","true",1,"search-input",3,"input"],[1,"d-flex","align-items-center",3,"click"],[1,"material-symbols-outlined"]],template:function(e,c){e&1&&(r(0,"div",1),R(1,B,3,0,"button",2)(2,G,7,0,"div",3),o()),e&2&&(l(),U(c.search()?2:1))},styles:[".search[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:end;width:100%;background-color:#08b0b0;height:34px}.search[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{color:#fff}.search-filter[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;background-color:#08b0b0;padding:4px}.search-filter[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;border-radius:4px;background-color:#ffffe0!important;padding-right:4px}.search-filter[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;margin-left:4px;border:none;outline:none;background-color:#ffffe0;color:#000}.search-filter[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;border:none;outline:none;cursor:pointer}"]})};function J(n,t){if(n&1&&(r(0,"div",1)(1,"div",2)(2,"span",3),u(3),o(),r(4,"span",4),u(5),o()(),r(6,"div",5)(7,"a",6)(8,"span",7),u(9,"call"),o()()()()),n&2){let e=t.$implicit;l(3),O(e.name),l(2),O(e.phone),l(2),F("href","tel:"+e.phone,I)}}var _=class n{searchService=i(s);searchTerm=this.searchService.searchTerm;ngOnInit(){this.searchService.loadContacts()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=d({type:n,selectors:[["app-contacts-details"]],decls:3,vars:0,consts:[[1,"detail-content","overflow-auto"],[1,"contact-row"],[1,"d-flex","flex-column","pt-2","pb-2"],[1,"contact-name"],[1,"contact-phone"],[1,"d-flex","flex-column","justify-content-center","me-2"],[3,"href"],[1,"round-span","material-symbols-outlined"]],template:function(e,c){e&1&&(r(0,"div",0),V(1,J,10,3,"div",1,q),o()),e&2&&(l(),W(c.searchService.filteredContacts()))},styles:[".detail-content[_ngcontent-%COMP%]{max-height:calc(100vh - 158px)}.detail-content[_ngcontent-%COMP%]   .contact-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;padding:4px;border-bottom:1px solid gray}.detail-content[_ngcontent-%COMP%]   .contact-row[_ngcontent-%COMP%]   .contact-name[_ngcontent-%COMP%]{font-size:1.2rem}.detail-content[_ngcontent-%COMP%]   .contact-row[_ngcontent-%COMP%]   .contact-phone[_ngcontent-%COMP%]{color:gray}.detail-content[_ngcontent-%COMP%]   .contact-row[_ngcontent-%COMP%]   .round-span[_ngcontent-%COMP%]{display:inline-block;width:50px;height:50px;background-color:#00458f;color:#fff;text-align:center;line-height:50px;border-radius:50%}"]})};var D=class n{searchTerm=a("");static \u0275fac=function(e){return new(e||n)};static \u0275cmp=d({type:n,selectors:[["app-contacts"]],features:[L([s])],decls:3,vars:0,consts:[[1,"d-flex","flex-column","h-100"]],template:function(e,c){e&1&&(r(0,"div",0),N(1,"app-contacts-search")(2,"app-contacts-details"),o())},dependencies:[S,_],encapsulation:2})};export{D as default};
